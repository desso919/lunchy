<%@page import="java.util.Currency"%>
<%@page import="com.tu.lunchy.dao.objects.*"%>
<%@page import="com.tu.lunchy.dao.impl.*"%>
<%@page import="com.tu.lunchy.util.*"%>
<%@page import="java.util.List"%>

<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
	pageEncoding="ISO-8859-1"%>
<!DOCTYPE HTML>
<html>
<head>
<style>
.dropdown {
	float: left;
	overflow: hidden;
}

.dropdown .dropbtn {
	cursor: pointer;
	font-size: 16px;
	border: none;
	outline: none;
	color: white;
	padding: 14px 16px;
	background-color: inherit;
}

.navbar a:hover, .dropdown:hover .dropbtn {
	background-color: red;
}

.dropdown-content {
	display: none;
	position: absolute;
	background-color: #f9f9f9;
	min-width: 160px;
	box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
	z-index: 1;
}

.dropdown-content a {
	float: none;
	color: black;
	padding: 12px 16px;
	text-decoration: none;
	display: block;
	text-align: left;
}

.dropdown-content a:hover {
	background-color: #ddd;
}

.show {
	display: block;
}
</style>
<title>Lunchy</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1">
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
<link href='//fonts.googleapis.com/css?family=Open+Sans'
	rel='stylesheet' type='text/css'>
</head>
<body>
	<!----start-header----->
	<div class="header">
		<div class="wrap">
			<div class="top-header">
				<div class="logo">
					<a href="index.html"><img src="images/logo.png" title="logo" /></a>
				</div>
				<div style="float: right;">
					<form method="post" action="/Lunchy/LogoutServlet">
						<input type="submit" class="mybutton" value="Log out">
					</form>
				</div>

				<div style="float: right; color: wheat; padding: 10px 15px;">
					<h2>
						Welcome,
						<%=SessionUtil.getLoggedInUser(request).getFullName()%>
					</h2>
				</div>
				<div class="clear"></div>
			</div>
			<!---start-top-nav---->
			<div class="top-nav">
				<div class="top-nav-left">
					<ul>
						<%
							AccountType userAccountType = AccessUtil
									.getUserAccess(SessionUtil.getLoggedInUser(request).getAccountType());

							if (userAccountType == AccountType.ADMINISTRATOR) {
						%>
						<li class="active"><a href="HomePage.jsp">Home</a></li>
						<li><a href="MenuPage.jsp">Menu</a></li>
						<li><a href="AddNewMealPage.jsp">Add New Meal</a></li>
						<li><a href="AddNewUserPage.jsp">Add New User</a></li>
						<%
							} else if (userAccountType == AccountType.RESTAURANT_WORKER) {
						%>
						<li class="active"><a href="HomePage.jsp">Home</a></li>
						<li><a href="MenuPage.jsp">Menu</a></li>
						<li><a href="AddNewMealPage.jsp">Add New Meal</a></li>
						<li><a href="ShowAllOrders.jsp">Show Orders</a></li>
						<%
							} else if (userAccountType == AccountType.CLIENT) {
						%>
						<li class="active"><a href="HomePage.jsp">Home</a></li>
						<li><a href="MenuPage.jsp">Menu</a></li>
						<%
							}
						%>
					</ul>
				</div>
				<div class="clear"></div>
			</div>
			<!---End-top-nav---->
		</div>
	</div>
	<!----End-header----->
	<!---start-contact---->
	<div class="contact">
		<div class="wrap">
			<div class="section group">
				<div class="col span_2_of_3">
					<div class="contact-form">
						<h3>Add New Meal</h3>
						<form id="addNewMealForm" method="post"
							action="/Lunchy/AddNewMealServlet">
							<div>
								<span><label>Meal name</label></span> <span><input
									name="mealName" type="text" class="textbox"></span>
							</div>
							<div class="dropdown">
								<button class="dropbtn" onclick="myFunction()">
									Select Menu <i class="fa fa-caret-down"></i>
								</button>
								<div class="dropdown-content" id="myDropdown">
								<%
								List<Menu> menus = MenuDaoImpl.getMenus();
								
								for(Menu Menu : menus){
									
								}
								%>
								
								
									<a href="#">Link 1</a> <a href="#">Link 2</a> <a href="#">Link
										3</a>
								</div>
							</div>
							<div>
								<span><label>Meal Description</label></span> <span><textarea
										name="description"> </textarea></span>
							</div>
							<div>
								<span><label>Meal Ingredients</label></span> <span><textarea
										name="ingredients"> </textarea></span>
							</div>
							<div>
								<span><label>Meal Price</label></span> <span
									style="display: flex;"><input name="price" type="text"
									class="textbox" style="width: 85%;"> <select
									name="currencySelector" style="width: 15%;">
										<%
											for (String currency : Util.getSupportedCurrencies()) {
										%>
										<%
											if (currency.equalsIgnoreCase(Util.APPLICATION_CURRENCY.toString())) {
										%>
										<option selected="selected"><%=currency%></option>
										<%
											} else {
										%>
										<option><%=currency%></option>
										<%
											}
										%>
										<%
											}
										%>
								</select></span>

							</div>
							<div>
								<span><input type="submit" class="mybutton"
									value="Add Meal"></span>
							</div>
						</form>

					</div>
				</div>
			</div>
		</div>
	</div>
	<script>
		function myFunction() {
			document.getElementById("addNewMealForm").reset();
		}
	</script>
	<div class="copy-right"
		style="position: absolute; width: 100%; bottom: 35px">
		<div class="top-to-page">
			<a href="#top" class="scroll"> </a>
			<div class="clear"></div>
		</div>
		<p>Lunchy. All Rights Reserved | Design by Desislav Hristov</p>
	</div>
	<!---End-footer---->
</body>
</html>