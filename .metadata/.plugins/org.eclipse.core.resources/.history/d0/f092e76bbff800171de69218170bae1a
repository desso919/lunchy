<%@page import="com.tu.lunchy.dao.objects.Menu"%>
<%@page import="com.tu.lunchy.dao.objects.Meal"%>
<%@page import="com.tu.lunchy.dao.impl.MenuDaoImpl"%>
<%@page import="com.tu.lunchy.util.SessionUtil"%>
<%@page import="java.util.List"%>

<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>

<!DOCTYPE HTML>
<html>
  <head>
	  <title>Lunchy</title>
	  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	  <link href="css/style.css" rel="stylesheet" type="text/css"  media="all" />
	  <link href='//fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
 </head>
	<body>
	<!----start-header----->
	 <div class="header">
	     <div class="wrap">
			<div class="top-header">
				<div class="logo">
					<a href="index.html"><img src="images/logo.png" title="logo" /></a>
				</div>			
				<div class="clear"> </div>
			</div>
			<!---start-top-nav---->
			<div class="top-nav">
				<div class="top-nav-left">
					<ul>
						<%AccountType userAccountType = AccessUtil.getUserAccess(SessionUtil.getLoggedInUser(request).getAccountType());

						if(userAccountType == AccountType.ADMINISTRATOR) {
					%>
						<li class="active"><a href="HomePage.jsp">Home</a></li>
						<li><a href="MenuPage.jsp">Menu</a></li>
						<li><a href="AddNewMealPage.jsp">Add New Meal</a></li>
						<li><a href="AddNewUserPage.jsp">Add New User</a></li>
					<% 
						} else if(userAccountType == AccountType.RESTAURANT_WORKER) {
					%>
						<li class="active"><a href="HomePage.jsp">Home</a></li>
						<li><a href="MenuPage.jsp">Menu</a></li>
						<li><a href="AddNewMealPage.jsp">Add New Meal</a></li>
						<li><a href="ShowAllOrders.jsp">Show Orders</a></li>
					<%
						} else if(userAccountType == AccountType.CLIENT) {
					%>
						<li class="active"><a href="HomePage.jsp">Home</a></li>
						<li><a href="MenuPage.jsp">Menu</a></li>
					<% } %>			
					</ul>
				</div>
				<div class="clear"> </div>
			</div>
			<!---End-top-nav---->
		</div>
	</div>
   <!----End-header----->
		 <!---start-content---->
		 	<!---start-gallery----->
		 	<div class="gallerys">
		 		<div class="wrap">
					<h3>MENU</h3>
					
					<% List<Meal> meals = MenuDaoImpl.getMenu(1).getMealsForThisMenu();
					
					for (Meal meal : meals) {
						String mealName = meal.getMealName();
						%>
						<div class="gallery-grid">
						<a href="#"><img src="images/slider1.jpg" alt=""><span>$<%= meal.getPrice() %></span></a>
						<h4><%= meal.getMealName() %></h4>
						<p><%=meal.getDescription() %></p>
						<p><%=meal.getIngredients() %></p>
						<div class="gallery-button"><a href="#">Order</a></div>
						
						<%} %>												
				    <div class="clear"> </div>
				    <div class="projects-bottom-paination">
						<ul>
							<li class="active"><a href="#">1</a></li>
							<li><a href="#">2</a></li>
						</ul>
					</div>
				</div>
				</div>
		 	<!---End-gallery----->
		 <!---End-content---->
	</body>
</html>

